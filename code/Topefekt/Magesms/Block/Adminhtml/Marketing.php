<?php
/**
 * Mage SMS - SMS notification & SMS marketing
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the BSD 3-Clause License
 * It is available through the world-wide-web at this URL:
 * http://opensource.org/licenses/BSD-3-Clause
 *
 * @category    TOPefekt
 * @package     TOPefekt_Magesms
 * @copyright   Copyright (c) 2012-2017 TOPefekt s.r.o. (http://www.mage-sms.com)
 * @license     http://opensource.org/licenses/BSD-3-Clause
 */
 namespace Topefekt\Magesms\Block\Adminhtml; use Magento\Backend\Block\Template\Context; use Magento\Framework\Registry; use Topefekt\Magesms\Helper\Data; use Topefekt\Magesms\Model\Sms; use Topefekt\Magesms\Model\Smsprofile; class Marketing extends Template { public $colors = [ '#ed6502', '#229922', '#999922', '#229999', '#999999', '#885566', '#9933aa', '#19aba3', '#dcca00', '#96c8a3', ]; protected $_websites; protected $_collectionFactory; protected $_filterCollection; public function __construct(Context $i31cc913adc2717e2346d503153c97449098831aa, Smsprofile $ibcdf76f8c9ddc330c79f805116a8bb146c43749d3a81d7d700dc6d1b4279ed33db8d01cd2cae8ed9, Sms $ibcdf76f8c9ddc330c79f805116a8bb146c43749d2012325f8714e1168a6c4fd06b9fa8eee23fcc7f, Data $i0d09b2a4f282150bf47b02f9f3d82586fe313844, Registry $ibcdf76f8c9ddc330c79f805116a8bb146c43749de9fe5cdc9fc7093987f4d41ad4cae3554e64e17b, \Magento\Framework\Data\CollectionFactory $ibe5aea4950485d23eddda58cf80268b2bf918858, \Topefekt\Magesms\Model\Marketing\Filter\Collection $id468ae02d8644db8e685d5e575dce69152b894fb, array $ia61712c27ea241bd7a543dc2b02ea572274d0322 = []) { parent::__construct($i31cc913adc2717e2346d503153c97449098831aa, $ibcdf76f8c9ddc330c79f805116a8bb146c43749d3a81d7d700dc6d1b4279ed33db8d01cd2cae8ed9, $ibcdf76f8c9ddc330c79f805116a8bb146c43749d2012325f8714e1168a6c4fd06b9fa8eee23fcc7f, $i0d09b2a4f282150bf47b02f9f3d82586fe313844, $ibcdf76f8c9ddc330c79f805116a8bb146c43749de9fe5cdc9fc7093987f4d41ad4cae3554e64e17b, $ia61712c27ea241bd7a543dc2b02ea572274d0322); $this->_collectionFactory = $ibe5aea4950485d23eddda58cf80268b2bf918858; $this->_filterCollection = $id468ae02d8644db8e685d5e575dce69152b894fb; } public function getFilterCollection() { return $this->_filterCollection; } public function getColorWebsite($ibcdf76f8c9ddc330c79f805116a8bb146c43749d7d411c0cc32cdb65ec82b9e8d79aa996946f5538) { foreach($this->getWebsites() as $ibcdf76f8c9ddc330c79f805116a8bb146c43749d9fdb3b1e2e6984ebdd1220ec199279013c5483fc) if ($ibcdf76f8c9ddc330c79f805116a8bb146c43749d9fdb3b1e2e6984ebdd1220ec199279013c5483fc->getId() == $ibcdf76f8c9ddc330c79f805116a8bb146c43749d7d411c0cc32cdb65ec82b9e8d79aa996946f5538) return $ibcdf76f8c9ddc330c79f805116a8bb146c43749d9fdb3b1e2e6984ebdd1220ec199279013c5483fc->getColorWebsite(); } public function getStoreManager() { return $this->_storeManager; } public function getWebsites() { if (!empty($this->_websites)) return $this->_websites; $this->_websites = $this->getStoreManager()->getWebsites(); $ibcdf76f8c9ddc330c79f805116a8bb146c43749d = 0; foreach($this->_websites as $ibcdf76f8c9ddc330c79f805116a8bb146c43749d9fdb3b1e2e6984ebdd1220ec199279013c5483fc) { if ($ibcdf76f8c9ddc330c79f805116a8bb146c43749d == count($this->colors)) $ibcdf76f8c9ddc330c79f805116a8bb146c43749d = 0; $ibcdf76f8c9ddc330c79f805116a8bb146c43749d9fdb3b1e2e6984ebdd1220ec199279013c5483fc->setColorWebsite($this->colors[$ibcdf76f8c9ddc330c79f805116a8bb146c43749d]); $ibcdf76f8c9ddc330c79f805116a8bb146c43749d++; } return $this->_websites; } } 